pre-commit:
  parallel: true
  commands:
    lint:
      glob: '*.{js,ts,jsx,tsx}'
      run: pnpm eslint {staged_files}
    prettier:
      glob: '*.{js,ts,jsx,tsx,css,md,json}'
      run: pnpm prettier --check {staged_files}
    typecheck:
      glob: '*.{ts,tsx}'
      run: pnpm tsc --noEmit

# post-merge: 종속성 변경 시 패키지 업데이트
post-merge:
  commands:
    install-deps:
      run: if git diff --name-only HEAD@{1} HEAD | grep -q "package.json"; then pnpm install; fi

health:
  parallel: true
  commands:
    eslint:
      run: pnpm lint:fix
    prettier:
      run: pnpm format:fix
    typecheck:
      run: pnpm typecheck
